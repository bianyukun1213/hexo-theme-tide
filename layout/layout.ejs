<!DOCTYPE html>
<html lang="zh-CN" dir="ltr">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>hexo-theme-tide</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.6.0/css/all.min.css"
        integrity="sha512-Kc323vGBEqzTmouAECnVceyQqyqdsSiqLQISBL29aUW4U/M7pSPA/gEUZQqv1cwx4OnYxTxve5UMg5GT6L4JJg=="
        crossorigin="anonymous" referrerpolicy="no-referrer" />
    <link rel="stylesheet" href="<%- url_for('/css/tide.css') %>">
    <script src="<%- url_for('/js/third-party/jquery.min.js') %>"></script>
</head>

<body>
    <div id="tide-root" <% if(is_post()) { %>
        tide-is-post="true"
        <% } %>
            un-bg="b-scnd" un-absolute un-top="0" un-bottom="0" un-left="0" un-right="0" un-text="base">
            <div id="tide-left-bar" un-sc-trans-default un-bg="prim" un-fixed un-ltr="-left-75vw" un-rtl="-right-75vw"
                un-flex="~ col" un-justify="between" un-z="30" un-text="center t-lb" un-w="75vw" un-h="full">
                <header un-flex="none" un-p="8">
                    <% if(is_home()) { %>
                        <h1 id="tide-site-name" un-text="4xl" un-font="bold">Where is my fucking gun???</h1>
                        <% } else { %>
                            <span id="tide-site-name" un-text="4xl" un-font="bold">他的第二人生</span>
                            <% } %>
                </header>
                <nav id="tide-navigation" un-flex="initial" un-self="center" un-w="full">
                    <ul un-inline-flex un-flex="col" un-items="start" un-p="0" un-w="auto" un-list="none" un-text="2xl">
                        <li un-inline-block un-mb="8"><i class="fa-solid fa-house" un-ltr="mr-4" un-rtl="ml-4"
                                aria-hidden="true"></i><a un-sc-link-plain un-text="!t-lb" href="/">首页</a>
                        </li>
                    </ul>
                </nav>
                <footer un-flex="none" un-p="8">
                    <!-- 留一个隐藏的 div，方便用户通过修改注入 -->
                    <div class="tide-footer-injection-point" un-hidden></div>
                    <p><a un-sc-link-plain un-text="!t-lb" href="https://hexo.io/" target="_blank"
                            rel="noopener">萌ICP备20230041号</a></p>
                    <p>由<span un-i="logos-hexo" un-mx="1"></span><a un-sc-link-plain un-text="!t-lb"
                            href="https://hexo.io/" target="_blank" rel="noopener">Hexo</a> 强力驱动</p>
                    <!-- <p>Powered by<span un-i="logos-hexo" un-mx="1"></span><a un-sc-link-plain un-text="t-lb"
                            href="https://hexo.io/" target="_blank" rel="noopener">Hexo</a></p> -->
                </footer>
            </div>
            <%- /* partial('./partials/tide-deco.svg') 斜角，废弃 */ %>
                <!-- <div id="tide-deco"><img src="./img/tide-deco.svg" alt=""></div> -->
                <div id="tide-content" un-sc-trans-default un-fixed un-flex="~ col" un-w="full" un-h="full">
                    <!-- 顶部工具栏 -->
                    <header id="tide-top-bar" un-bg="b-prim" un-flex un-justify="stretch" un-items="center"
                        un-min-w="64" un-h="16">
                        <div un-w="full" un-h="12">
                            <button id="tide-btn-nav" aria-label="打开导航菜单" un-sc-btn-default un-relative
                                un-ltr="float-left ml-4" un-rtl="float-right mr-4" un-w="12" un-h="12">
                                <i id="tide-btn-nav-icon" class="fa-solid fa-bars" aria-hidden="true"></i>
                            </button>
                        </div>
                        <div un-w="full" un-h="12">
                            <!-- 开启 relative，使用 right 让元素具有符合直觉的 tab index -->
                            <button id="tide-btn-search" aria-label="打开搜索页面" un-sc-btn-default un-relative
                                un-ltr="float-right right-16 mr-4" un-rtl="float-left left-16 ml-4" un-w="12" un-h="12">
                                <i class="fa-solid fa-magnifying-glass" aria-hidden="true"></i>
                            </button>
                            <button id="tide-btn-settings" aria-label="打开设置页面" un-sc-btn-default un-relative
                                un-ltr="float-right -right-16 mr-4" un-rtl="float-left -left-16 ml-4" un-w="12"
                                un-h="12">
                                <i class="fa-solid fa-gear" aria-hidden="true"></i>
                            </button>
                        </div>
                    </header>
                    <main id="tide-main-content" un-bg="b-prim" un-flex="1" un-px="16" un-overflow="auto">
                        <%- body %>
                            <!-- 页面 -->
                            <article></article>
                            <!-- 评论 -->
                            <article></article>
                            <!-- TOC，从 lg 开始显示 -->
                            <aside></aside>
                    </main>
                </div>
    </div>
    <script>
        $('#tide-btn-search').click(() => {
            if ($('html').hasClass('tide-large-font'))
                $('html').removeClass('tide-large-font');
            else
                $('html').addClass('tide-large-font');
        });
        $('#tide-btn-settings').click(() => {
            if ($('html').attr('dir') === 'ltr')
                $('html').attr('dir', 'rtl');
            else
                $('html').attr('dir', 'ltr');
        });
        // todo：初始化 tide-left-bar-expanded 属性，并根据 resize 事件实时更新。
        if (document.documentElement.clientWidth >= 1280)
            $('#tide-root').attr('tide-left-bar-expanded', 'true');
        else
            $('#tide-root').attr('tide-left-bar-expanded', 'false');
        // window.addEventListener('resize',
        $(window).on('resize', () => {
            if (document.documentElement.clientWidth >= 1280)
                $('#tide-root').attr('tide-left-bar-expanded', 'true');
            else
                $('#tide-root').attr('tide-left-bar-expanded', 'false');
        });
        $('#tide-btn-nav').click(() => {
            if ($('#tide-root').attr('tide-left-bar-expanded') === 'true') {
                $('#tide-root').attr('tide-left-bar-expanded', 'false');
                $('#tide-btn-nav-icon').removeClass('fa-solid fa-xmark');
                $('#tide-btn-nav-icon').addClass('fa-solid fa-bars');
            }
            else {
                $('#tide-root').attr('tide-left-bar-expanded', 'true');
                $('#tide-btn-nav-icon').removeClass('fa-solid fa-bars');
                $('#tide-btn-nav-icon').addClass('fa-solid fa-xmark');
            }
        });
    </script>
</body>

</html>